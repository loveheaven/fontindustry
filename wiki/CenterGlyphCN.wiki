#summary CenterGlyph 字型居中插件说明.

||[CenterGlyph English] || 中文 ||

[FontIndustryZhCN <-返回主页]
= 字型居中插件 =
!FontForge 的插件。

== 插件功能 ==
  * 计算所有选中字的轮廓的最大的宽和高
  * 将所有选中字平移到纵向的中间位置
  * 将所有选中字平移到纵向和横向的中间位置，并设定字宽为轮廓线的105%。
  * 将每一个选中字放大到行宽的一定比例，预设90%。

== 安装说明 ==
把文件 centerglyph.py 拷贝到 $(PREFIX)/share/fontforge/python 或者 ~/.FontForge/python 下。$(PREFIX) 为 fontforge 的系统安装路径，一般为 /usr 或者 /usr/local 。

运行 fontforge 后，会在 Tools 菜单下，增加 Metrics 和 Transform 两个子菜单。

== 使用说明 ==
=== Tools->Metrics->Max Selected Size ===
计算所有选中的字的轮廓的最大宽度和高度。将会显示
{{{
Points: 662 658
Scale Factor to 100%: 150.918 151.813%
}}}
第一行是以点为单位的，所有选中的字型的最大宽度和高度。做为参考。

第二行是这个最大值要放大到字体最大高度需要的放大比例。

一个字型尺寸里，只有高度是固定的，等于ascent+descent，叫做一个em。而字型的宽度是不固定的，对于不等宽的字体，可以根据需要，任意的宽或者窄。

汉字大体是方块字，所以我们可以假设所有字的最大宽和高都不超过它们的高度 em 。第二行给出的数字，就是如果要放大，在一个正方体里，我们要放大多少。

上面列出横向150.918%，纵向 151.813%。为保持一个字的形状，需要纵横放大的比例都是一样的，而且要小于一个em，所以能用的最大是150.918%，一般可以选择148%或者其他比例，以避免顶天立地。

然后，我们可以到 Element->Transformations->Transform... 下，进行放大，缩小。这样可以保证每一个字都在字框里，而且这些字的相对比例被保持了下来。比较适合手写体，有大有小的情况。

第二行的公式为 `最大宽度/行宽*100`  和 `最大高度/行宽*100`。

=== Tools->Metrics->Center In Height ===
把选中的字纵向居中，中线对齐。

=== Tools->Metrics->Center In Glyph ===
把选中的的，纵向，横向都居中，并且自动设定他们的宽度为字型轮廓的105%。

字型的宽度，对于中文字来说，基本上就是一个字的轮廓宽，再加上些左右对称的留边，就是我们的字宽了。这样设定后，我们的字就不是等宽字，而是变宽字了，字间距固定。

  等宽字是把所有字的宽度都设为一个固定值，比如1000或者2048，然后留边的大小不一。字宽可在Metrics->Set Width... 里设定。

  Fontforge 还提供一个横向1/3对齐的方式，在 Metrics->Thirds in Width，这里，左边的留白是右边留白的一半，字在偏左1/3处。

=== Tools->Transform->Scale to Em ===
把选中的字，都放大到行宽的 90% 或者其他百分比。

这个放大，是强迫所有的字或者是等宽，或者是等高，尽量都是同一个尺寸，字边对齐。跟上面描述的保持各字相对尺寸比例的放大不同，只是大家都放大自己的148%；这里所有字的尺寸都一样了。

这种放大不适合所有的字。有些字可能需要比大多数字小一两圈，例如“口”字，这些字就需要单独的放大。而且不能保留手写字体大小错落有致的风格，正楷或者印刷体，美术体可以尝试使用。